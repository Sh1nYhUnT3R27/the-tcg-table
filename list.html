<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <title>QR Code Reader</title>
    <!-- Include Bootstrap CSS -->
 <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">    <!-- Include Instascan CSS -->
    <link rel="stylesheet" href="https://unpkg.com/instascan@1.0.0/dist/instascan.min.css">
    <!-- Include Clipboard.js script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>QR Code Reader</h1>
        <div id="qr-code-reader"></div>
        <ul id="qr-code-list" class="list-group">
            <!-- Scanned QR code items will be added here -->
        </ul>
        <button id="toggle-scanner-button" class="btn btn-primary">Start Scanner</button>
        <button id="copy-button" class="btn btn-primary">Copy to Clipboard</button>
    </div>

    <script>
        // Initialize QR Code reader
        const scanner = new Instascan.Scanner({ video: document.getElementById('qr-code-reader') });
        let scannerActive = false;

        document.getElementById('toggle-scanner-button').addEventListener('click', function () {
            if (!scannerActive) {
                // Start the scanner
                Instascan.Camera.getCameras().then(function (cameras) {
                    if (cameras.length > 0) {
                        scanner.start(cameras[0]);
                        document.getElementById('toggle-scanner-button').textContent = 'Stop Scanner';
                        scannerActive = true;
                    } else {
                        console.error('No cameras found.');
                    }
                }).catch(function (error) {
                    console.error(error);
                });
            } else {
                // Stop the scanner
                scanner.stop();
                document.getElementById('toggle-scanner-button').textContent = 'Start Scanner';
                scannerActive = false;
            }
            
        });
// Initialize QR Code reader
const scanner = new Instascan.Scanner({ video: document.getElementById('qr-code-reader') });

scanner.addListener('scan', function (content) {
    // Add scanned content to the list
    const listItem = document.createElement('li');
    listItem.textContent = content;
    document.getElementById('qr-code-list').appendChild(listItem);
});

// Initialize Copy to Clipboard functionality
const copyButton = document.getElementById('copy-button');
copyButton.addEventListener('click', function () {
    const listItems = document.getElementById('qr-code-list').getElementsByTagName('li');
    const clipboardText = Array.from(listItems).map(item => item.textContent).join('\n');
    copyTextToClipboard(clipboardText);
});

// Function to copy text to clipboard
function copyTextToClipboard(text) {
    // Implement clipboard copying logic (e.g., using clipboard.js or document.execCommand)
}

// Start the QR code scanner
Instascan.Camera.getCameras().then(function (cameras) {
    if (cameras.length > 0) {
        scanner.start(cameras[0]);
    } else {
        console.error('No cameras found.');
    }
}).catch(function (error) {
    console.error(error);
});
        // Other QR code scanning and clipboard copy logic (as shown in the previous response)
    </script>
</body>
</html>
